如果是长连接的情况下，一般我们都需要做连接的维护工作，法案主要有这么几种：

1、客户端间隔5分钟，向服务器发起一次“心跳”报文，如果服务器正常回应，那就无所谓，如果不回应，一般就直接断开“连接”，然后重新向服务器再次申请新的连接即可。


2、客户端或者服务端开启一个定时任务，间隔5分钟，判断在这5分钟内，是否有向服务器交互数据，如果有交互，那么就继续维护这个连接，如果没有交互，那么就直接断开连接即可，下次再需要交互时，再向服务器申请新的连接即可。这样做的好处，是给服务器减压




客户端如果主动自己断开，这个一般不需要做特殊处理，直接在下次连接时，申请新的连接即可。

服务器如果自己因为什么原因，断开了，那么客户端，需要定义一个定时任务，间隔10分钟，或者多少时间，去不断的尝试服务器是否恢复。
